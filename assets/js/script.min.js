$(document).ready(function () {
    AOS.init({
        disable: "mobile"
    })
});


var firebaseConfig = {
    apiKey: "AIzaSyDmnvgNUMI7TGiTqsRy2YYpG9DOmEF39Zs",
    authDomain: "practice-713ca.firebaseapp.com",
    databaseURL: "https://practice-713ca.firebaseio.com",
    projectId: "practice-713ca",
    storageBucket: "practice-713ca.appspot.com",
    messagingSenderId: "192057578935",
    appId: "1:192057578935:web:7e77f7cf51fb93f3360432",
    measurementId: "G-X2JVWNL1VN"
};
// Initialize Firebase
firebase.initializeApp(firebaseConfig);

var books = firebase.database().ref('books');
// -------------------------------------------------------------------------------------- //

let myLibrary = []

function newcard(title, author, pages, read) {

    this.title = title
    this.author = author
    this.pages = pages
    this.read = read

    myLibrary.push(this)
    setContent(this)
}

newcard.prototype.print = function () {
    let check
    if (this.read)
        check = "you have read it."
    else
        check = "its to be readed soon :) . "
    return `This books has ${this.pages} number of pages and ${check}`
}


function setContent(book) {
    let top = document.createElement('div')
    top.className = "card"

    let body = document.createElement('div')
    body.className = "card-body"

    let cardTitle = document.createElement('h4')
    cardTitle.className = "card-title"
    cardTitle.innerHTML = book.title

    let cardSub = document.createElement('h6')
    cardSub.className = 'text-muted card-subtitle mb-2'
    cardSub.innerHTML = book.author

    let cardText = document.createElement('p')
    cardText.className = 'card-text'
    cardText.innerHTML = book.print()

    body.appendChild(cardTitle)
    body.appendChild(cardSub)
    body.appendChild(cardText)
    top.appendChild(body)
    cont.appendChild(top)
}

const cont = document.getElementById('books')
new newcard("Girl in Room 105", "Chetan Bhagat", 300, true)
new newcard("Greecian Manifesto", "Ernest Dempsey", 500, false)


document.getElementById('bookForm').addEventListener('submit', submitForm);

function submitForm(e) {
    e.preventDefault();
    var card = new newcard(getInputval('name'), getInputval('author'), getInputval('pages'), document.getElementById("formCheck-1").checked);
    console.log("123")
    saveBook(card)
    document.querySelector('#bookForm').reset()
}

function getInputval(id) {
    return document.getElementById(id).value;
}

function saveBook(book) {
    var newBook = books.push();
    newBook.set(book)
}